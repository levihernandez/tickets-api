import http from 'k6/http';
import { sleep } from 'k6';

const uuids = [
'0054d13f-03ac-409e-b18a-9e6dba3022d3','00dfc79b-04d9-49f8-b16c-8d488880fbda','010b7f84-f340-437e-bb42-b48c14ed80bd','01123db7-b31f-4b2c-a4fb-11ada0347aa5','01172326-377d-4925-8d22-67eace22c12e','014f23fc-7863-4952-a097-6b4a91f75a12','01e372b8-fcaa-43b0-9497-0b9e31124972','01fdc155-060b-43b3-9d43-da59d3f79021','024082e5-4ca9-40ca-925e-a76ec7b252af','0295eaf7-2a86-4725-90dc-4d698b374c97','02a6f2f8-6a96-47a6-9ad5-cc919387aa97','02cf73a4-f574-41cf-bd7e-4e4fff5626cb','02d12cc4-8095-4481-9eba-bcecf2844b49','02d2ff1b-e7b5-4774-b38c-0a4dd8261382','02dd5f18-a434-4eae-bb7a-ab2cfa585734','033560d1-32f0-4d7d-a745-232c053b93bf','033ccdfb-c470-4d80-96f3-d1134c68a1b4','03a24a7a-4b6a-477d-b938-5b08fc52f14e','03a4a99f-fbd6-4da8-bae7-279418e3d23f','03c37afb-ba3a-4213-a299-cb9ed0c515c6','04ca0cca-21c7-4a5d-9fda-d7c43b0bf1df','04dc29ba-37ed-43d4-bca4-8a082075af3b','04e92204-c40c-4f2b-ab4b-835c8dffe122','04ffe025-d744-4f31-b497-6a570a1eaff0','05211909-d010-4f9d-863e-1304d69a38b4','05799b86-4fe9-4d3e-b6a0-d679ae7f2f50','0583833c-f42a-4575-b3ef-8e9b761ffc7c','059b056e-c803-4133-a9c1-5dccca03a17a','05a500c0-6900-475e-8b7e-e37c7baf6a60','05bb2614-b87e-4618-97f9-9019fca22c09','05effd6b-b44d-4149-8d3d-3792ef8d3b44','0609aad8-298f-421b-ab7b-db0d11f046ee','06aee7ed-d6c4-42bd-b030-973308713704','06e1ff68-873c-45a5-98f0-00cee872d802','0704df59-f071-411c-bb36-da29cc42a82f','071d074f-fc98-4a69-85cd-73c93f60d34a','0733cc71-3de3-44e3-9c4d-54ffd73e0fef','0738e0a1-227f-4e91-9081-5e884b5bb26e','07689d7a-2f8b-489e-ac6a-95948e527182','07c57270-db19-4c63-b895-77dfd07b65a8','07d3dae3-6be3-499f-b794-558211669ecc','08191aff-012c-42a1-ab46-8d25f63f749d','084d447c-e592-43f3-b0a7-5a181b264385','086111fb-2f92-467e-8cea-f35588bd6f23','0861b01c-8319-462f-814d-d61203c568e6','08af0594-8817-4ca5-96de-40a631e18c9e','08c4e156-8f09-48ae-88b4-08d46b0f4ce2','08c92080-d888-4775-9a61-165013194a22','0935cfa7-3716-462c-ba8d-185450a76af1','095b6b85-beda-481e-a94e-29c40228161f','096a66dc-5ceb-402d-9732-8171e8cb673c','09761058-b8c3-48ad-b264-8abe8afa0de9','097de45f-fd4f-45a1-8a6e-a2b49db6f6fa','09d6403c-6518-4dc6-9333-87b4e4b40f32','09e199d8-b52d-4fae-a9df-5e369a53ab2b','0a06dca6-9ac7-4b3f-ad96-11bbc629a6b1','0a10a2c4-7ffb-48b6-9a34-6d9252aec30e','0a241a08-f641-439c-8809-fd8b353d18e0','0a25779f-ec70-472b-a12b-f1d6734f462c','0a35f4c9-b253-4058-95c2-af3fe5d2a59d','0a370c0b-7e9e-4ecb-8a13-d2b7695fe0e0','0a90849a-ee96-4299-9faa-0572efd22466','0aa4cb91-1cdd-4021-a59b-9fb44629afa8','0ae7d1c8-b514-4c4c-af7e-f97335e69989','0b11c9a2-f3b8-4d44-a620-3424459ab1c6','0b1697af-56a1-4bec-a566-508a0c1e6857','0b1db5eb-6bad-4985-aa85-e9fe48bb6610','0b26c275-967a-46cb-a17d-4a29cf0be578','0b35dc80-2b64-4eb3-bd70-7f2fd3220e68','0bc74152-d1d8-44df-83b9-31b8c69f7b01','0c065a74-e1f6-4a87-81c3-062671bebc4f','0c6e9e04-287d-470b-9740-4aa33093bb98','0cbcaf23-3eaf-49d0-90d8-473cd0210b2a','0ce11fa0-5d27-4d9a-9275-1294ee7a540e','0d064367-99c7-43b2-bf80-3542e3d07909','0d108c56-1fb5-4820-a4ea-d662b61d0370','0d2bc68b-b8f1-49de-9684-64fd5d42cf56','0d4456f0-4bc3-4522-a0d5-7441a2647fb7','0d9552da-f9bb-4670-b0d2-a637da348a6c','0dad155e-150b-47e5-96f1-1cd2fe9e8c68','0dcbf600-e32e-46fb-a881-7d494e9c8e7f','0dd7a73a-da37-487f-876c-f4eca7520c1a','0e4be7f5-38d4-4b17-a9b6-98c71f02e468','0e672814-604a-4cd0-9c6f-2766a67e9055','0ebfc346-df7c-46b0-8649-825b202e4b16','0ec82f17-365f-4876-b657-123e424582ff','0f82693c-d298-4466-aae8-b6ebc529c679','0fb4d1f7-ea9d-4c63-b5cc-cb34287d9c3d','0fce5221-2894-498d-869c-4ec9592a992a','0ff045f9-9570-43a1-b5d2-27d44e21a793','10191df2-cbac-4a9e-b0c4-bdaa35666ee7','1043e081-32e1-427f-8cea-242fcbac21e7','108ab12c-ab17-4003-8a11-145682512ed3','109e9d4d-0c5a-47d2-9f7f-027f1363c644','10aa96b8-1372-45e6-82a4-4e87c970020b','10e30237-30f1-429f-90b7-e9070d13998a','10f9bc43-00fe-42af-af56-ec35d34e9691','1103c09d-d702-454f-89ab-32a864e7891c','1107630e-1792-471d-bed5-be2ef734c100','1117dd11-0aa1-4ade-baa2-cb71ab44c1a1','11a6c0c2-ac8e-444e-80b9-554f37359e60','11c30dcd-9313-4900-a1db-29aa5bde1e7e','11c7497d-38c6-49f9-b9da-e02fc8c6c906','120c5e64-73f7-4e9e-bd75-def945c32a79','123747b0-9b94-4260-a1af-31900d238130','12b535e0-fc87-47cc-9bbc-b2c1e952ff2a','12b9394e-46ca-462d-9ec6-259346db36a3','12c1e363-dab7-4be6-9ec1-c5b48d4e92a7','12dcdcc7-944c-4dc0-b877-69b4a08d4f91','13475eab-ada0-4211-b347-f85ead515d67','134f1845-a2ab-4df9-837c-66cb653a0661','135f494d-4ea3-4f04-b765-92c7b9e0ab58','1361103b-5ff7-4173-840f-1c8ac55b0ee3','1374ef1c-e598-47fb-b27f-d95f5c023da5','13abdf83-5615-4a95-88d1-381351a07fc4','13ca77fa-f36b-4f87-a1dc-b675a19af0e6','13d8396a-1753-4de3-8ac3-6dbae441700d','13e02831-a71e-4e29-9faf-5648fc332ad4','13ef7d08-c77c-4d17-9442-9342e3a30fbb','142e27d8-d301-4f3d-8673-538d7a43e4f3','1436d64d-872a-412a-86ca-50fc9070fc08','1438a37b-7195-4e88-baed-4919174de5a1','1452acf4-b16a-456e-9035-2f9c7786de6d','1456e87e-cfa3-4017-8ce1-1caad761685f','14639ce9-2e3f-432e-8e62-e8830d93b600','1471e659-b939-4275-b421-208f37c1a265','14791c22-7461-42b9-895a-2d59fb17a0b5','148b8d68-0033-428a-af2d-413a0c9ca118','14dfec4e-81d2-49d1-945f-d7b025e17be6','14efcc4a-112a-4547-8f67-d9b784d7b59f','151ae9e0-6725-4d9b-978e-8da6e97864ff','156bc0d5-d6cd-4d72-a6ed-476e25e92a47','15b66492-566a-4705-844a-8a451842f361','15df89ef-b87b-4b16-a0b6-beec924af830','1622158a-4c97-47ef-9a38-d814e06c53a8','1632e823-917f-4420-9abc-089a2b3684ec','16639c9e-caa4-40c2-b125-ec1d47abb24e','166d3ded-aa4d-49ca-a9ae-c3a7cc13c705','16732a17-eccb-4ff3-85dc-78ec184ae252','168b904e-fabb-4ce6-90bd-9d3d885ad900','16d0de53-22b9-478c-9e99-84c2b14c7960','1700df07-179d-4b11-bbaa-2157e1aeee5f','173f8e47-7406-4839-9b82-46660efde383','1745b3d4-c963-432d-8807-dde73f862573','1755e3af-a2d5-47d0-a9a4-5c64d4f5f66f','177cd31d-36f6-4e55-a464-adbbfe0abb84','179babc6-d553-4f97-a20e-20c127ec60d2','17a922f8-304d-4ce6-a863-9c6c0c9742a4','17c3e079-d179-4ad1-9499-23cafc59b867','182c55b5-7e45-4776-a4b2-067919355d58','1896c968-5db6-404c-a265-56ce8582b12b','18b3789e-48d9-4923-9f7c-04d70c90e139','18d8c471-5074-4da8-80f0-a5eed7645424','195b3bb3-9b93-486d-942d-4c65cf007f7d','1965dd89-1798-4540-bd4a-b54197b3f485','19882e56-6d1a-4bff-8a22-e64cd5aa39ba','19894fc2-a5aa-464b-934e-7dbb7f1fc2f6','19a2108b-bb8f-4d24-b41e-bc8fe9ab6baa','19aaa0c1-c51f-4927-a85b-37b0f47e281f','19c71e89-05d1-4d6f-82fa-c280579790dc','19ceffd9-31ab-466d-81bd-1ebd9fe4a618','19d0e5c1-d8f5-4ece-b929-72623c547e68','1a36ba77-7f33-444e-a1d5-5fc2ea8cfcb9','1a4e994b-9169-4b2c-8895-071c7331d80a','1a8cf4a4-413f-42d1-8fee-e8609d71c3b8','1a99b8d7-2cf6-4861-b69f-2cec627c7754','1ac55372-bfde-4825-956f-812bd6cd8d90','1acefb2b-dcb5-4588-b473-9fabc70dbbf4','1ad03ed4-9921-4b36-a8b0-cc3623880b81','1ad1a899-821d-4b29-98b1-38b4c4088e8c','1b8d5162-fd54-4748-bd65-2133bf4d97a0','1ba60401-44f2-43da-bbff-9dad14b9080f','1bd12ea4-b201-45c6-a006-ff648b414f52','1c1b8c73-6779-4c41-9920-93170ce10842','1c3fe1e2-95a6-4a45-9bc1-ca943f870c22','1c77158a-accb-4eca-a9c9-fc92bda8cab6','1c8e37ea-8e96-4192-8baf-3985680d364f','1cb3cdfc-3bea-4490-8190-121de0884b21','1d13bebd-9a26-4b60-8712-40421dd7051d','1d297f3b-86e0-47be-abe7-0001b9e397e8','1d3c7001-bf9f-430e-af0d-fb0cbbc551ac','1e136d32-6763-4e5e-a6eb-bf76eaede670','1e3db381-dd66-4907-8f38-66e134da144c','1e44aeb3-8e58-4817-9109-be8b232164e0','1e7cb3f7-e84d-40a5-ae23-a5d064bcf689','1e89dc8e-ad0d-49f0-8bdf-a196ee5342af','1ea9d07c-a377-4fa9-9e34-392b84d49d6c','1eaab73b-8014-46e3-bd72-504bf100c2a8','1ed3151c-79b3-4cbf-b956-485cd5b050c6','1ee5a650-64a7-43f3-b205-1b41684359b9','1ee6dc51-8539-4330-a3c5-e6db745a788d','1f1a024e-97f4-4797-8120-8b068e20c80f','1f358a1d-c2c2-4318-b9b1-386c4c72dede','1f5d0fa8-06cd-452e-b2f6-1705ba688232','1fe993fc-85f2-4ea4-b8c9-4478d335652d','1ffaecdc-9a64-44a4-993a-9811b63d4adb','20139c6c-bee9-4cc5-bff1-cddd85c7b6c9','20904a83-e3e3-4ce0-9cae-5cb4e92030b4','214645f6-71b8-4db9-b2c7-d021923821d8','216e955b-0a5d-496c-aad4-373c0e821769',
    // ... more UUIDs
];

export let options = {
    stages: [
        { duration: '1m', target: __ENV.VUS || 10 }, // Ramp-up to target VU over 1 minute
        { duration: __ENV.DURATION || '5m', target: __ENV.VUS || 10 }, // Stay at target VU for test duration
        { duration: '1m', target: 0 }, // Scale down. Total time is ramp-up + test duration + scale down
    ],
    thresholds: {
        http_req_duration: ['p(95)<500'], // 95% of requests should be below 500ms
    },
};

export default function () {
    const uuid = uuids[Math.floor(Math.random() * uuids.length)];

    // Explicit test
    if (__VU > options.stages[1].target && __ITER < 2000) {
        http.get(`http://localhost:8080/implicit/users/${uuid}`);
    }
}
